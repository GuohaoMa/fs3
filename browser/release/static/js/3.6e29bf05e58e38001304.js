webpackJsonp([3],{"8aGw":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("AVsg"),l=e.n(s);for(var n in s)"default"!==n&&function(t){e.d(a,t,function(){return s[t]})}(n);var o=e("kYrt");var i=function(t){e("Qa4E")},r=e("VU/8")(l.a,o.a,!1,i,"data-v-2566f450",null);a.default=r.exports},AVsg:function(t,a,e){"use strict";var s;Object.defineProperty(a,"__esModule",{value:!0});var l=o(e("mtWM")),n=o(e("PJh5"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}a.default=(i(s={data:function(){return{dialogWidth:document.body.clientWidth<=600?"95%":"50%",dialogIndex:0,dialogVisible:!1,dialogConfirm:!1,dialogDis:!1,width:document.body.clientWidth>600?"400px":"95%",ruleForm:{name:"ceshi",price:"1",duration:"1",verified:"2",fastRetirval:"1",frequency:"Backup Daily",region:"Global"},linkTitle:"All Backup Job Detalls",tableData:[],tableData_2:[],backupPlan:{backupPlanName:"-",date:"-",backupPlanId:"",backupPlanTasks:[{backupTaskId:"-"}]}}},watch:{},methods:{goLink:function(){this.$router.push({name:"my_account_backupPlans"})},confirm:function(){this.dialogVisible=!1,this.dialogConfirm=!0},planSubmit:function(t){console.log(t),this.dialogIndex=t,this.dialogVisible=!0},handleClose:function(t){this.dialogConfirm=!1},detailFun:function(t){var a=this;a.dialogVisible=!0;var e=a.data_api+"/minio/rebuild/add/job",s={BackupTaskId:t.backupPlanTasks[0].backupTaskId,BackupPlanId:t.backupPlanId};l.default.post(e,s,{headers:{Authorization:"Bearer "+a.$store.getters.accessToken}}).then(function(t){var e=t.data;if("success"!=e.status)return a.$message.error(e.message),!1;a.backupPlan=e.data,a.backupPlan.createdOn&&(a.backupPlan.createdOn=(0,n.default)(new Date(parseInt(a.backupPlan.createdOn/1e3))).format("YYYY-MM-DD HH:mm:ss"))}).catch(function(t){console.log(t)})},productName:function(){"backup_job"==this.$route.params.type?(this.linkTitle="All Backup Job Detalls",this.getData(1)):(this.linkTitle="All Rebuild Job Detalls",this.getData())},copyTextToClipboard:function(t){var a=document.createElement("textarea");a.id="txt",a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.opacity="0",a.value=t,document.body.appendChild(a),a.select();try{var e=document.execCommand("copy"),s=e?"successful":"unsuccessful";if(console.log("Copying text command was "+s),e)return this.$message({message:"Success",type:"success"}),!0}catch(t){console.log("Oops, unable to copy")}finally{document.body.removeChild(a)}return!1},getData:function(t){var a=this,e="";t?(e=a.data_api+"/minio/backup/retrieve/volume",l.default.get(e,{headers:{Authorization:"Bearer "+a.$store.getters.accessToken}}).then(function(t){var e=t.data;if("success"!=e.status)return a.$message.error(e.message),!1;a.tableData=e.data.volumeBackupPlans,a.tableData.map(function(t){t.backupPlanTasks.map(function(t){t.data.dealInfo[0].visible=!1,t.data.duration_time=t.data.duration?(0,n.default)(new Date(parseInt(1e3*(30*parseInt(t.data.duration)+parseInt(1598306471))))).format("YYYY-MM-DD HH:mm:ss"):"-",t.createdOn=t.createdOn?(0,n.default)(new Date(parseInt(t.createdOn/1e3))).format("YYYY-MM-DD HH:mm:ss"):"-",t.updatedOn=t.updatedOn?(0,n.default)(new Date(parseInt(t.updatedOn/1e3))).format("YYYY-MM-DD HH:mm:ss"):"-"})})}).catch(function(t){console.log(t)})):(e=a.data_api+"/minio/rebuild/retrieve/volume",l.default.get(e,{headers:{Authorization:"Bearer "+a.$store.getters.accessToken}}).then(function(t){var e=t.data;if("success"!=e.status)return a.$message.error(e.message),!1;a.tableData_2=e.data.volumeRebuildTasks,a.tableData_2.map(function(t){t.visible=!1,t.createdOn=(0,n.default)(new Date(parseInt(t.createdOn/1e3))).format("YYYY-MM-DD HH:mm:ss"),t.updatedOn=(0,n.default)(new Date(parseInt(t.updatedOn/1e3))).format("YYYY-MM-DD HH:mm:ss")})}).catch(function(t){console.log(t)}))}}},"watch",{$route:function(t,a){this.productName()}}),i(s,"mounted",function(){this.productName()}),i(s,"filters",{NumFormatPrice:function(t){if(0==t)return 0;if(!t)return"-";var a=String(t);if(t.length>18){var e=a.substring(0,a.length-18),s=a.substring(a.length-18),l=String(s).replace(/(0+)\b/gi,"");return l?e+"."+l:e}for(var n="",o=0;o<18-a.length;o++)n+="0";return"0."+String(n+a).replace(/(0+)\b/gi,"")}}),s)},Qa4E:function(t,a){},kYrt:function(t,a,e){"use strict";var s={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"fs3_back"},[s("div",{staticClass:"fs3_head"},[s("div",{staticClass:"fs3_head_text"},[s("div",{staticClass:"titleBg"},[t._v(t._s(t.linkTitle))]),t._v(" "),s("h1",[t._v(t._s(t.linkTitle))])]),t._v(" "),s("img",{staticClass:"bg",attrs:{src:e("3Msz"),alt:""}})]),t._v(" "),s("div",{staticClass:"fs3_cont"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-right"}},[s("el-breadcrumb-item",{attrs:{to:{name:"my_account_dashboard"}}},[t._v("Dashboard")]),t._v(" "),s("el-breadcrumb-item",[t._v(t._s(t.linkTitle))])],1),t._v(" "),"backup_job"==t.$route.params.type?s("el-table",{attrs:{data:t.tableData,stripe:"","empty-text":"No data"}},[s("el-table-column",{attrs:{prop:"backupTaskId",label:"Backup ID",width:"90"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n          "+t._s(a.row.backupPlanTasks[0].backupTaskId)+"\n        ")]}}],null,!1,2983189576)}),t._v(" "),s("el-table-column",{attrs:{prop:"updatedOn",label:"Last Updata","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n          "+t._s(a.row.backupPlanTasks[0].updatedOn)+"\n        ")]}}],null,!1,4211209426)}),t._v(" "),s("el-table-column",{attrs:{prop:"createdOn",label:"Date Created","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n          "+t._s(a.row.backupPlanTasks[0].createdOn)+"\n        ")]}}],null,!1,489989895)}),t._v(" "),s("el-table-column",{attrs:{prop:"miner_id",label:"W3SSID","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n          "+t._s(a.row.backupPlanTasks[0].data.dealInfo[0].miner_id)+"\n        ")]}}],null,!1,890119373)}),t._v(" "),s("el-table-column",{attrs:{prop:"cost",label:"Price","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n          "+t._s(t._f("NumFormatPrice")(a.row.backupPlanTasks[0].data.dealInfo[0].cost))+" FIL\n        ")]}}],null,!1,3095327403)}),t._v(" "),s("el-table-column",{attrs:{prop:"deal_cid",label:"Deal CID","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("div",{staticClass:"hot-cold-box"},[s("el-popover",{attrs:{placement:"top",width:"160",trigger:"hover"},model:{value:a.row.backupPlanTasks[0].data.dealInfo[0].visible,callback:function(e){t.$set(a.row.backupPlanTasks[0].data.dealInfo[0],"visible",e)},expression:"scope.row.backupPlanTasks[0].data.dealInfo[0].visible"}},[s("div",{staticClass:"upload_form_right"},[s("p",[t._v(t._s(a.row.backupPlanTasks[0].data.dealInfo[0].deal_cid))])]),t._v(" "),s("el-button",{attrs:{slot:"reference"},on:{click:function(e){return t.copyTextToClipboard(a.row.backupPlanTasks[0].data.dealInfo[0].deal_cid)}},slot:"reference"},[s("img",{attrs:{src:e("zOHj"),alt:""}}),t._v("\n                        "+t._s(a.row.backupPlanTasks[0].data.dealInfo[0].deal_cid)+"\n                    ")])],1)],1)]}}],null,!1,2550146462)}),t._v(" "),s("el-table-column",{attrs:{prop:"payload_cid",label:"Data CID","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n          "+t._s(a.row.backupPlanTasks[0].data.dealInfo[0].payload_cid)+"\n        ")]}}],null,!1,2099908541)}),t._v(" "),s("el-table-column",{attrs:{prop:"duration",label:"Duration","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n          "+t._s(a.row.backupPlanTasks[0].data.duration)+" \n          "),s("br"),t._v("\n          ("+t._s(a.row.backupPlanTasks[0].data.duration_time)+")\n        ")]}}],null,!1,1522662174)}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"Status",width:"110"},scopedSlots:t._u([{key:"default",fn:function(a){return["Created"==a.row.backupPlanTasks[0].status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#0a318e"}},[t._v("\n                "+t._s(a.row.backupPlanTasks[0].status)+"\n            ")]):"Running"==a.row.backupPlanTasks[0].status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#ffb822"}},[t._v("\n                "+t._s(a.row.backupPlanTasks[0].status)+"\n            ")]):"Completed"==a.row.backupPlanTasks[0].status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#1dc9b7"}},[t._v("\n                "+t._s(a.row.backupPlanTasks[0].status)+"\n            ")]):s("div",{staticClass:"statusStyle",staticStyle:{color:"rgb(255, 184, 34)"}},[t._v("\n                "+t._s(a.row.backupPlanTasks[0].status)+"\n            ")])]}}],null,!1,4096005418)}),t._v(" "),s("el-table-column",{attrs:{prop:"",label:"",width:"130"},scopedSlots:t._u([{key:"default",fn:function(a){return["Completed"!=a.row.backupPlanTasks[0].status?s("el-button",{attrs:{type:"info"},on:{click:function(a){t.dialogDis=!0}}},[t._v("Rebuild Image")]):s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.detailFun(a.row)}}},[t._v("Rebuild Image")])]}}],null,!1,1895619924)})],1):s("el-table",{attrs:{data:t.tableData_2,stripe:"","empty-text":"No data"}},[s("el-table-column",{attrs:{prop:"rebuildTaskID",label:"Rebuild Job ID"}}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(a){return["Created"==a.row.status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#0a318e"}},[t._v("\n                "+t._s(a.row.status)+"\n            ")]):"Running"==a.row.status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#ffb822"}},[t._v("\n                "+t._s(a.row.status)+"\n            ")]):"Completed"==a.row.status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#1dc9b7"}},[t._v("\n                "+t._s(a.row.status)+"\n            ")]):s("div",{staticClass:"statusStyle",staticStyle:{color:"rgb(255, 184, 34)"}},[t._v("\n                "+t._s(a.row.status)+"\n            ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"miner_id",label:"W3SSID"}}),t._v(" "),s("el-table-column",{attrs:{prop:"deal_cid",label:"Deal CID","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("div",{staticClass:"hot-cold-box"},[s("el-popover",{attrs:{placement:"top",width:"160",trigger:"hover"},model:{value:a.row.visible,callback:function(e){t.$set(a.row,"visible",e)},expression:"scope.row.visible"}},[s("div",{staticClass:"upload_form_right"},[s("p",[t._v(t._s(a.row.deal_cid))])]),t._v(" "),s("el-button",{attrs:{slot:"reference"},on:{click:function(e){return t.copyTextToClipboard(a.row.deal_cid)}},slot:"reference"},[s("img",{attrs:{src:e("zOHj"),alt:""}}),t._v("\n                        "+t._s(a.row.deal_cid)+"\n                    ")])],1)],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"payload_cid",label:"Data CID","min-width":"110"}}),t._v(" "),s("el-table-column",{attrs:{prop:"backupTaskId",label:"Backup ID"}}),t._v(" "),s("el-table-column",{attrs:{prop:"createdOn",label:"Date Created",width:"110"}}),t._v(" "),s("el-table-column",{attrs:{prop:"updatedOn",label:"Date Updated",width:"110"}})],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"Rebuild Image","custom-class":"formStyle",visible:t.dialogVisible,width:t.dialogWidth},on:{"update:visible":function(a){t.dialogVisible=a}}},[s("img",{staticClass:"icon",attrs:{src:e("wkmT"),alt:""}}),t._v(" "),s("span",{staticClass:"span"},[t._v("Are you sure you want to rebuild volume from "),s("b",[t._v(t._s(t.backupPlan.backupPlanName))]),t._v(" ?")]),t._v(" "),s("span",{staticClass:"span"},[t._v("This action will overwrite your existing file system,")]),t._v(" "),s("span",{staticClass:"span"},[s("b",[t._v("Proceed?")])]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),s("el-button",{on:{click:t.confirm}},[t._v("OK")])],1)]),t._v(" "),s("el-dialog",{attrs:{title:"Rebuild Image","custom-class":"formStyle",visible:t.dialogConfirm,width:t.dialogWidth},on:{"update:visible":function(a){t.dialogConfirm=a}}},[s("img",{staticClass:"icon",attrs:{src:e("nS/N"),alt:""}}),t._v(" "),s("span",{staticClass:"span"},[t._v("Your rebuild image job has created successfully")]),t._v(" "),s("br"),t._v(" "),s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"statusStyle"},[s("div",{staticClass:"list"},[s("span",[t._v("Rebuild Job ID: ")]),t._v(" "+t._s(t.backupPlan.rebuildTaskID))]),t._v(" "),s("div",{staticClass:"list"},[s("span",[t._v("Date Created:")]),t._v(" "+t._s(t.backupPlan.createdOn))]),t._v(" "),s("div",{staticClass:"list"},[s("span",[t._v("W3SSID:")]),t._v(" "+t._s(t.backupPlan.miner_id))]),t._v(" "),s("div",{staticClass:"list"},[s("span",[t._v("Backup ID:")]),t._v(" "+t._s(t.backupPlan.backupTaskId)+" ")]),t._v(" "),s("div",{staticClass:"list"},[s("span",[t._v("Data CID:")]),t._v(" "+t._s(t.backupPlan.payload_cid)+" ")]),t._v(" "),s("div",{staticClass:"list"},[s("span",[t._v("Deal CID:")]),t._v(" "+t._s(t.backupPlan.deal_cid)+" ")]),t._v(" "),s("div",{staticClass:"list"},[s("span",[t._v("Stauts:")]),t._v(" "),"Created"==t.backupPlan.status?s("small",{staticStyle:{color:"#0a318e"}},[t._v("\n              "+t._s(t.backupPlan.status)+"\n          ")]):"Running"==t.backupPlan.status?s("small",{staticStyle:{color:"#ffb822"}},[t._v("\n              "+t._s(t.backupPlan.status)+"\n          ")]):"Completed"==t.backupPlan.status?s("small",{staticStyle:{color:"#1dc9b7"}},[t._v("\n              "+t._s(t.backupPlan.status)+"\n          ")]):s("small",{staticStyle:{color:"rgb(255, 184, 34)"}},[t._v("\n              "+t._s(t.backupPlan.status)+"\n          ")])])])]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"active",on:{click:t.handleClose}},[t._v("OK")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"Rebuild Image","custom-class":"formStyle",visible:t.dialogDis,width:t.dialogWidth},on:{"update:visible":function(a){t.dialogDis=a}}},[s("span",{staticClass:"span"},[t._v("Rebuild image is accessible only when status is completed")]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"active",on:{click:function(a){t.dialogDis=!1}}},[t._v("OK")])],1)])],1)},staticRenderFns:[]};a.a=s},"nS/N":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAeCAYAAADdGWXmAAAENElEQVRIiaWWeYhVZRjGf3O7VmMUtrrQZllOtpMRtu/NiYow8rQZHxFE0QIVLVQSkQRhC/0hFIQnzD9OVEQIHylYZmkbqUmZjFlmVJblJJY243jjmZ4Dp9uZy3V84XDvPff7vud7l+d5347uaXPYHYt5GNydpNlewPnAi8AbwDPAH8Bo4PeYh97abiH93zr8pg/oBC4BpgNH62V9GAfuDewBDADbS+8FsB54C1gBXGCwH4At7YKNAg4HxgEH+feeQD+wOUmzjT5Qzxrgaf93i/fr/QSgpxXYvsAk4EJgCjDWYSpC1fBldfA64ENgcczDSv7N4XzgN+Ac4HKltwpMhx0LXAVcChwG/AVs8LPZIVMoDwaO9HpdrDtJs6hQxjx8maSZzjsX+LMqjCOAM4CbfBvl5H3dCvgM+MlAhdUNNsUXO9ugE5I0m23PXgI2NYPp+2TgQeBihQR4yp9D2Y6Yh7WAnrlJmnUD9wK3ObczYx4+KPaWS38icL+5Mhe4A1jaRgGVbRFwOzAPuAaYkaTZ2GYwVVdwGN4EngO+c/LbtpiHPhfLTOBd4DJVZZJmo8tgV/gPheMVYDWwcxe9GrSYh0bMw7rShae7SAbBxJ8bgJHAa8Cy4YAUlqRZQY3FJrgqNknSbFzdPDjFhFwAbBsmwHjL0rdJmq2PeehP0myRI3a6cOTZefbwc/NoV4HEt5NcXI8Ax5WqvMdFdoBwBNJlPqxt0rqaidsxBE6xZqIrd5pVZVPBxZgHff/a53Zp8YFqAV5UFIVAxpigo1qAKXT3ANcCkqkZwPKYh4HSml+AXuHU3Ar6nKuGF4wwDbT5Zgtws4k/91ltpPKPAh/FPGxvWve3KdRZN0BHU7h2uvEd4QJSW3mhVDyHAo87dMrJEzEPQ1VxcXZDnm0F1GX3KfGu31o426B3A7d63VHAY8D1wKcGWtIi1CO9b6s82+jWPcZVNGBvVTSZvZEXdwL7OXzXAUusfUMCJWlW93q1qzV1q0WXG1ynY1y23O8eBp6U+AJvu0l+0sIj2SEuMqVhdd0xvxI43rnordg03+G4C/gZeN5F0ahYW7ZjgFNdkUvrlqdVwGnARcBXFboobxYC35szqyoiUGVnASd42lpW900zMz+YL+9VbPzVXbrhvLa0JM0S4Eaf/07Mw481eyENe92DzQPWsirb0SbQZPNORfcyMNhACw3TjDDH88ZUl/Ys52VLG+EqQPYHTrZOnugm+mrMgyqe5olYgvqQ573lbqQLSrNHo/RgXtZcbeM9K041kCI1K+ahpzi8eeD5whKl/FxtgZ3kMW2DvdzmcNYsBPJGVadiONNclAfPKk/lw6tGOam/OCVKaNCUUghYfPzGZBegRgmJgVRfPNVZ4p1ytDDmQcr0HxtqSNWcKOJqs7RRQ5CqVeEtxm+ZQHV7hVsj38dSpAoxBuAf+hU9DcxqYkcAAAAASUVORK5CYII="},wkmT:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAYAAACtv5zzAAAB30lEQVRIia3VS6hNYRQH8J97TylkIBOmLgPXIzK4ZWBCXXldAzK4iZQMzEQmMqFwB5QyujIQ5dUp5FGkTBgwlkfIgEjcJAmhr9bW7jj77H0e/9qtfXbf+v/P931r/dek4c1nVMQ4dsTSOrbhS1lqrSL5TQzjLr5iI+ZgGX62SuyrQL40yE9hJUawD4uwoSy5isCMiA9z3+5FnFWWXOWI7uARTuATviFd3Auc7IXAEvyInVzPfX+DoYadtSUwDeewPn5fw1P8xgDW4QHuYwvetSMwNchmYwzH8LFhzXTswlE8xzy8bSQquuR6kI9GxTSSix5IwqvjD91oRtRMYFU8p+OIynALx7EYa6oI7I24swJ5hj0RD1cRWI6JuMyq+IPXsYtSgSn40AZ5hqZVVHTJEx0IfI44uZXAUMTbHQhkOStaCWStX9nDczgfr0eKBAbDfpM1v+pAIPXKlbCWf7vIC9Qjbu+APMNoxMuNAgcxNxzzfRcC33EAM7Mm7R8YHFmAi3iSM7ZukMxvfhjgy76YrQm7e0CeYX/ETbXwktTql/Cs4pQrQuro/iiWhPFaTKytOJTrg27xOHzpajYPzsbTc5SNzLVY2ML40nGm0Vlo62UCaVqlimiFVJoX8Ou/RfgLNBda/hwS3H4AAAAASUVORK5CYII="},zOHj:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABG0lEQVRYR+2XMRLBQBSGv1xDRaOg1ruEGo0jaHEMGrROoaamdhPmmazZeYlkM3kRTHZmu933f3n7Z/MnouYR1axPCMAMWBuBroBjPJ8lQwBGwMEIQMrsgKmrFwJgpd0DLnGxl+4nAUT7ngcwBGQujB5bn3kuwBaYGIm7Mv6Z5wK4BX3gWhIk7cyDAay8oQV/E0B80Q48jjMw99aadOAEDAIBbkDHGqALtAoACIQbJh0I1E5d9h8AjQkbE9b+FmSZUN98GtbkNcy6CfXNVwlAlgkFwL/5KgGw9IAkbBmbd6E08b0uo56WAXU9HTy+BqCqSJZoqO7A0jAROzFJxlI3dWgAieRjw2QsiXjv/4rleaCk54pvt0q/xZXjHQ9h6WAhIZY1fwAAAABJRU5ErkJggg=="}});