webpackJsonp([3],{"8aGw":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("AVsg"),l=e.n(s);for(var n in s)"default"!==n&&function(a){e.d(t,a,function(){return s[a]})}(n);var o=e("L6i/");var i=function(a){e("wtEs")},c=e("VU/8")(l.a,o.a,!1,i,"data-v-71ccbc94",null);t.default=c.exports},AVsg:function(a,t,e){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0});var l=o(e("mtWM")),n=o(e("PJh5"));function o(a){return a&&a.__esModule?a:{default:a}}function i(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}t.default=(i(s={data:function(){return{dialogWidth:document.body.clientWidth<=600?"95%":"50%",dialogIndex:0,dialogVisible:!1,dialogConfirm:!1,dialogDis:!1,width:document.body.clientWidth>600?"400px":"95%",ruleForm:{name:"ceshi",price:"1",duration:"1",verified:"2",fastRetirval:"1",frequency:"Backup Daily",region:"Global"},linkTitle:"All Backup Job Detalls",tableData:[],tableData_2:[],backupPlan:{backupPlanName:"-",date:"-",backupPlanId:"",backupPlanTasks:[{backupTaskId:"-"}]}}},watch:{},methods:{goLink:function(){this.$router.push({name:"my_account_backupPlans"})},confirm:function(){this.dialogVisible=!1,this.dialogConfirm=!0},planSubmit:function(a){console.log(a),this.dialogIndex=a,this.dialogVisible=!0},handleClose:function(a){this.dialogConfirm=!1},detailFun:function(a){this.dialogVisible=!0,this.backupPlan=a,this.backupPlan.date=a.backupPlanTasks[0].data[0].date,this.backupPlan.payload_cid=a.backupPlanTasks[0].data[0].payload_cid},productName:function(){"backup_job"==this.$route.params.type?(this.linkTitle="All Backup Job Detalls",this.getData(1)):(this.linkTitle="All Rebuild Job Detalls",this.getData())},copyTextToClipboard:function(a){var t="cn"==localStorage.getItem("lang")?"复制成功":"success",e=document.createElement("textarea");e.id="txt",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.opacity="0",e.value=a,document.body.appendChild(e),e.select();try{var s=document.execCommand("copy"),l=s?"successful":"unsuccessful";if(console.log("Copying text command was "+l),s)return this.$message({message:t,type:"success"}),!0}catch(a){console.log("Oops, unable to copy")}finally{document.body.removeChild(e)}return!1},getData:function(a){var t=this,e="";a?(e=t.data_api+"/minio/backup/retrieve/volume",l.default.get(e,{headers:{Authorization:"Bearer "+t.$store.getters.accessToken}}).then(function(a){var e=a.data;if("success"!=e.status)return t.$message.error(e.message),!1;t.tableData=e.data.volumeBackupPlans,t.tableData.map(function(a){a.backupPlanTasks.map(function(a){a.data.dealInfo[0].visible=!1,a.data.duration_time=a.data.duration?(0,n.default)(new Date(parseInt(1e3*(30*parseInt(a.data.duration)+parseInt(1598306471))))).format("YYYY-MM-DD HH:mm:ss"):"-",a.createdOn=a.createdOn?(0,n.default)(new Date(parseInt(a.createdOn/1e3))).format("YYYY-MM-DD HH:mm:ss"):"-",a.updatedOn=a.updatedOn?(0,n.default)(new Date(parseInt(a.updatedOn/1e3))).format("YYYY-MM-DD HH:mm:ss"):"-"})})}).catch(function(a){console.log(a)})):(e=t.data_api+"/minio/rebuild/retrieve/volume",l.default.get(e,{headers:{Authorization:"Bearer "+t.$store.getters.accessToken}}).then(function(a){var e=a.data;if("success"!=e.status)return t.$message.error(e.message),!1;t.tableData_2=e.data.volumeRebuildTasks,t.tableData_2.map(function(a){a.createdOn=(0,n.default)(new Date(parseInt(a.createdOn/1e3))).format("YYYY-MM-DD HH:mm:ss"),a.updatedOn=(0,n.default)(new Date(parseInt(a.updatedOn/1e3))).format("YYYY-MM-DD HH:mm:ss")})}).catch(function(a){console.log(a)}))}}},"watch",{$route:function(a,t){this.productName()}}),i(s,"mounted",function(){this.productName()}),s)},"L6i/":function(a,t,e){"use strict";var s={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"fs3_back"},[s("div",{staticClass:"fs3_head"},[s("div",{staticClass:"fs3_head_text"},[s("div",{staticClass:"titleBg"},[a._v(a._s(a.linkTitle))]),a._v(" "),s("h1",[a._v(a._s(a.linkTitle))])]),a._v(" "),s("img",{staticClass:"bg",attrs:{src:e("3Msz"),alt:""}})]),a._v(" "),s("div",{staticClass:"fs3_cont"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-right"}},[s("el-breadcrumb-item",{attrs:{to:{name:"my_account_dashboard"}}},[a._v("Dashboard")]),a._v(" "),s("el-breadcrumb-item",[a._v(a._s(a.linkTitle))])],1),a._v(" "),"backup_job"==a.$route.params.type?s("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,stripe:"","empty-text":"No data"}},[s("el-table-column",{attrs:{prop:"backupTaskId",label:"Backup ID"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.row.backupPlanTasks[0].backupTaskId)+"\n        ")]}}],null,!1,2983189576)}),a._v(" "),s("el-table-column",{attrs:{prop:"Date",label:"Last Updata"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.row.backupPlanTasks[0].updatedOn)+"\n        ")]}}],null,!1,4211209426)}),a._v(" "),s("el-table-column",{attrs:{prop:"Date",label:"Date Created"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.row.backupPlanTasks[0].createdOn)+"\n        ")]}}],null,!1,489989895)}),a._v(" "),s("el-table-column",{attrs:{prop:"miner_id",label:"W3SSID"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.row.backupPlanTasks[0].data.dealInfo[0].miner_id)+"\n        ")]}}],null,!1,890119373)}),a._v(" "),s("el-table-column",{attrs:{prop:"cost",label:"Price"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.row.backupPlanTasks[0].data.dealInfo[0].cost)+"\n        ")]}}],null,!1,2470807785)}),a._v(" "),s("el-table-column",{attrs:{prop:"deal_cid",label:"Deal CID"},scopedSlots:a._u([{key:"default",fn:function(t){return[s("div",{staticClass:"hot-cold-box"},[s("el-popover",{attrs:{placement:"top",width:"160",trigger:"hover"},model:{value:t.row.backupPlanTasks[0].data.dealInfo[0].visible,callback:function(e){a.$set(t.row.backupPlanTasks[0].data.dealInfo[0],"visible",e)},expression:"scope.row.backupPlanTasks[0].data.dealInfo[0].visible"}},[s("div",{staticClass:"upload_form_right"},[s("p",[a._v(a._s(t.row.backupPlanTasks[0].data.dealInfo[0].deal_cid))])]),a._v(" "),s("el-button",{attrs:{slot:"reference"},on:{click:function(e){return a.copyTextToClipboard(t.row.backupPlanTasks[0].data.dealInfo[0].deal_cid)}},slot:"reference"},[s("img",{attrs:{src:e("zOHj"),alt:""}}),a._v("\n                        "+a._s(t.row.backupPlanTasks[0].data.dealInfo[0].deal_cid)+"\n                    ")])],1)],1)]}}],null,!1,2550146462)}),a._v(" "),s("el-table-column",{attrs:{prop:"payload_cid",label:"Data CID"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.row.backupPlanTasks[0].data.dealInfo[0].payload_cid)+"\n        ")]}}],null,!1,2099908541)}),a._v(" "),s("el-table-column",{attrs:{prop:"duration",label:"Duration"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.row.backupPlanTasks[0].data.duration)+" \n          "),s("br"),a._v("\n          ("+a._s(t.row.backupPlanTasks[0].data.duration_time)+")\n        ")]}}],null,!1,1522662174)}),a._v(" "),s("el-table-column",{attrs:{prop:"status",label:"Status"},scopedSlots:a._u([{key:"default",fn:function(t){return["Created"==t.row.backupPlanTasks[0].status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#0a318e"}},[a._v("\n                "+a._s(t.row.backupPlanTasks[0].status)+"\n            ")]):"Running"==t.row.backupPlanTasks[0].status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#ffb822"}},[a._v("\n                "+a._s(t.row.backupPlanTasks[0].status)+"\n            ")]):"Completed"==t.row.backupPlanTasks[0].status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#1dc9b7"}},[a._v("\n                "+a._s(t.row.backupPlanTasks[0].status)+"\n            ")]):s("div",{staticClass:"statusStyle",staticStyle:{color:"rgb(255, 184, 34)"}},[a._v("\n                "+a._s(t.row.backupPlanTasks[0].status)+"\n            ")])]}}],null,!1,4096005418)}),a._v(" "),s("el-table-column",{attrs:{prop:"",label:""},scopedSlots:a._u([{key:"default",fn:function(t){return["Completed"!=t.row.backupPlanTasks[0].status?s("el-button",{attrs:{type:"info"},on:{click:function(t){a.dialogDis=!0}}},[a._v("Rebuild Image")]):s("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.detailFun(t.row)}}},[a._v("Rebuild Image")])]}}],null,!1,1895619924)})],1):s("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData_2,stripe:"","empty-text":"No data"}},[s("el-table-column",{attrs:{prop:"rebuildTaskID",label:"Rebuild Job ID"}}),a._v(" "),s("el-table-column",{attrs:{prop:"status",label:"Status"},scopedSlots:a._u([{key:"default",fn:function(t){return["Created"==t.row.status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#0a318e"}},[a._v("\n                "+a._s(t.row.status)+"\n            ")]):"Running"==t.row.status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#ffb822"}},[a._v("\n                "+a._s(t.row.status)+"\n            ")]):"Completed"==t.row.status?s("div",{staticClass:"statusStyle",staticStyle:{color:"#1dc9b7"}},[a._v("\n                "+a._s(t.row.status)+"\n            ")]):s("div",{staticClass:"statusStyle",staticStyle:{color:"rgb(255, 184, 34)"}},[a._v("\n                "+a._s(t.row.status)+"\n            ")])]}}])}),a._v(" "),s("el-table-column",{attrs:{prop:"miner_id",label:"W3SSID"}}),a._v(" "),s("el-table-column",{attrs:{prop:"payload_cid",label:"Data CID"}}),a._v(" "),s("el-table-column",{attrs:{prop:"backupTaskId",label:"Backup ID"}}),a._v(" "),s("el-table-column",{attrs:{prop:"createdOn",label:"Date Created"}}),a._v(" "),s("el-table-column",{attrs:{prop:"updatedOn",label:"Date Updated"}})],1)],1),a._v(" "),s("el-dialog",{attrs:{title:"Rebuild Image","custom-class":"formStyle",visible:a.dialogVisible,width:a.dialogWidth},on:{"update:visible":function(t){a.dialogVisible=t}}},[s("img",{staticClass:"icon",attrs:{src:e("wkmT"),alt:""}}),a._v(" "),s("span",{staticClass:"span"},[a._v("Are you sure you want to rebuild volume from “"),s("b",[a._v(a._s(a.backupPlan.backupPlanName))]),a._v(" at "+a._s(a.backupPlan.date)+" ”?")]),a._v(" "),s("span",{staticClass:"span"},[a._v("This action will overwrite your existing file system,")]),a._v(" "),s("span",{staticClass:"span"},[s("b",[a._v("Proceed?")])]),a._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){a.dialogVisible=!1}}},[a._v("Cancel")]),a._v(" "),s("el-button",{on:{click:a.goLink}},[a._v("Backup Current System")]),a._v(" "),s("el-button",{on:{click:a.confirm}},[a._v("OK")])],1)]),a._v(" "),s("el-dialog",{attrs:{title:"Rebuild Image","custom-class":"formStyle",visible:a.dialogConfirm,width:a.dialogWidth},on:{"update:visible":function(t){a.dialogConfirm=t}}},[s("img",{staticClass:"icon",attrs:{src:e("nS/N"),alt:""}}),a._v(" "),s("span",{staticClass:"span"},[a._v("Your rebuild has created successfully")]),a._v(" "),s("br"),a._v(" "),s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"statusStyle"},[s("div",{staticClass:"list"},[s("span",[a._v("Rebuild Job ID: ")]),a._v(" "+a._s(a.backupPlan.backupPlanTasks[0].backupTaskId))]),a._v(" "),s("div",{staticClass:"list"},[s("span",[a._v("Date Created:")]),a._v(" "+a._s(a.backupPlan.date))]),a._v(" "),s("div",{staticClass:"list"},[s("span",[a._v("Backup ID:")]),a._v(" "+a._s(a.backupPlan.backupPlanId)+" ")]),a._v(" "),s("div",{staticClass:"list"},[s("span",[a._v("Data CID:")]),a._v(" "+a._s(a.backupPlan.payload_cid)+" ")])])]),a._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"active",on:{click:a.handleClose}},[a._v("OK")])],1)],1),a._v(" "),s("el-dialog",{attrs:{title:"Rebuild Image","custom-class":"formStyle",visible:a.dialogDis,width:a.dialogWidth},on:{"update:visible":function(t){a.dialogDis=t}}},[s("span",{staticClass:"span"},[a._v("Rebuild image is accessible only when status is completed")]),a._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"active",on:{click:function(t){a.dialogDis=!1}}},[a._v("OK")])],1)])],1)},staticRenderFns:[]};t.a=s},"nS/N":function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAeCAYAAADdGWXmAAAENElEQVRIiaWWeYhVZRjGf3O7VmMUtrrQZllOtpMRtu/NiYow8rQZHxFE0QIVLVQSkQRhC/0hFIQnzD9OVEQIHylYZmkbqUmZjFlmVJblJJY243jjmZ4Dp9uZy3V84XDvPff7vud7l+d5347uaXPYHYt5GNydpNlewPnAi8AbwDPAH8Bo4PeYh97abiH93zr8pg/oBC4BpgNH62V9GAfuDewBDADbS+8FsB54C1gBXGCwH4At7YKNAg4HxgEH+feeQD+wOUmzjT5Qzxrgaf93i/fr/QSgpxXYvsAk4EJgCjDWYSpC1fBldfA64ENgcczDSv7N4XzgN+Ac4HKltwpMhx0LXAVcChwG/AVs8LPZIVMoDwaO9HpdrDtJs6hQxjx8maSZzjsX+LMqjCOAM4CbfBvl5H3dCvgM+MlAhdUNNsUXO9ugE5I0m23PXgI2NYPp+2TgQeBihQR4yp9D2Y6Yh7WAnrlJmnUD9wK3ObczYx4+KPaWS38icL+5Mhe4A1jaRgGVbRFwOzAPuAaYkaTZ2GYwVVdwGN4EngO+c/LbtpiHPhfLTOBd4DJVZZJmo8tgV/gPheMVYDWwcxe9GrSYh0bMw7rShae7SAbBxJ8bgJHAa8Cy4YAUlqRZQY3FJrgqNknSbFzdPDjFhFwAbBsmwHjL0rdJmq2PeehP0myRI3a6cOTZefbwc/NoV4HEt5NcXI8Ax5WqvMdFdoBwBNJlPqxt0rqaidsxBE6xZqIrd5pVZVPBxZgHff/a53Zp8YFqAV5UFIVAxpigo1qAKXT3ANcCkqkZwPKYh4HSml+AXuHU3Ar6nKuGF4wwDbT5Zgtws4k/91ltpPKPAh/FPGxvWve3KdRZN0BHU7h2uvEd4QJSW3mhVDyHAo87dMrJEzEPQ1VxcXZDnm0F1GX3KfGu31o426B3A7d63VHAY8D1wKcGWtIi1CO9b6s82+jWPcZVNGBvVTSZvZEXdwL7OXzXAUusfUMCJWlW93q1qzV1q0WXG1ynY1y23O8eBp6U+AJvu0l+0sIj2SEuMqVhdd0xvxI43rnordg03+G4C/gZeN5F0ahYW7ZjgFNdkUvrlqdVwGnARcBXFboobxYC35szqyoiUGVnASd42lpW900zMz+YL+9VbPzVXbrhvLa0JM0S4Eaf/07Mw481eyENe92DzQPWsirb0SbQZPNORfcyMNhACw3TjDDH88ZUl/Ys52VLG+EqQPYHTrZOnugm+mrMgyqe5olYgvqQ573lbqQLSrNHo/RgXtZcbeM9K041kCI1K+ahpzi8eeD5whKl/FxtgZ3kMW2DvdzmcNYsBPJGVadiONNclAfPKk/lw6tGOam/OCVKaNCUUghYfPzGZBegRgmJgVRfPNVZ4p1ytDDmQcr0HxtqSNWcKOJqs7RRQ5CqVeEtxm+ZQHV7hVsj38dSpAoxBuAf+hU9DcxqYkcAAAAASUVORK5CYII="},wkmT:function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAYAAACtv5zzAAAB30lEQVRIia3VS6hNYRQH8J97TylkIBOmLgPXIzK4ZWBCXXldAzK4iZQMzEQmMqFwB5QyujIQ5dUp5FGkTBgwlkfIgEjcJAmhr9bW7jj77H0e/9qtfXbf+v/P931r/dek4c1nVMQ4dsTSOrbhS1lqrSL5TQzjLr5iI+ZgGX62SuyrQL40yE9hJUawD4uwoSy5isCMiA9z3+5FnFWWXOWI7uARTuATviFd3Auc7IXAEvyInVzPfX+DoYadtSUwDeewPn5fw1P8xgDW4QHuYwvetSMwNchmYwzH8LFhzXTswlE8xzy8bSQquuR6kI9GxTSSix5IwqvjD91oRtRMYFU8p+OIynALx7EYa6oI7I24swJ5hj0RD1cRWI6JuMyq+IPXsYtSgSn40AZ5hqZVVHTJEx0IfI44uZXAUMTbHQhkOStaCWStX9nDczgfr0eKBAbDfpM1v+pAIPXKlbCWf7vIC9Qjbu+APMNoxMuNAgcxNxzzfRcC33EAM7Mm7R8YHFmAi3iSM7ZukMxvfhjgy76YrQm7e0CeYX/ETbXwktTql/Cs4pQrQuro/iiWhPFaTKytOJTrg27xOHzpajYPzsbTc5SNzLVY2ML40nGm0Vlo62UCaVqlimiFVJoX8Ou/RfgLNBda/hwS3H4AAAAASUVORK5CYII="},wtEs:function(a,t){},zOHj:function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABG0lEQVRYR+2XMRLBQBSGv1xDRaOg1ruEGo0jaHEMGrROoaamdhPmmazZeYlkM3kRTHZmu933f3n7Z/MnouYR1axPCMAMWBuBroBjPJ8lQwBGwMEIQMrsgKmrFwJgpd0DLnGxl+4nAUT7ngcwBGQujB5bn3kuwBaYGIm7Mv6Z5wK4BX3gWhIk7cyDAay8oQV/E0B80Q48jjMw99aadOAEDAIBbkDHGqALtAoACIQbJh0I1E5d9h8AjQkbE9b+FmSZUN98GtbkNcy6CfXNVwlAlgkFwL/5KgGw9IAkbBmbd6E08b0uo56WAXU9HTy+BqCqSJZoqO7A0jAROzFJxlI3dWgAieRjw2QsiXjv/4rleaCk54pvt0q/xZXjHQ9h6WAhIZY1fwAAAABJRU5ErkJggg=="}});